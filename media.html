<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Packages - Indinzi Cultural Troupe</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="icons/css/all.css">
    <script src="script.js" defer></script>
</head>
<body>
    <header>
            <div class="logo">
              <a href="index.html">
                <img src="./logo.png" alt="Indinzi">
              </a>
            </div>
            <!-- Rest of your header content -->
        
        <div>
            <nav class="nav-bar">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="media.html">Media</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="packages-section">
            <div class="container">
                <h2>Our Performances</h2>
                <div class="packages-intro">
                    <p>Experience the richness of Rwandan culture through our specially curated performances. Each perfomance is designed to provide an authentic and immersive cultural experience.</p>
                </div>
               <div>
                <!--videos and images-->
                <!---the style ---> 
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #0e0e0e;
            color: #f2f2f2;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .gallery-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 50px;
        }
        
        h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff6b6b, #a36aff, #3ca1ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
        }
        
        h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #a36aff);
            border-radius: 2px;
        }
        
        .breadcrumb {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .breadcrumb span {
            padding: 8px 16px;
            margin: 5px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            position: relative;
            overflow: hidden;
        }
        
        .breadcrumb span::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #a36aff);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
            border-radius: 30px;
        }
        
        .breadcrumb span:hover::before {
            opacity: 0.7;
        }
        
        .breadcrumb span:hover {
            color: #fff;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .breadcrumb .separator {
            margin: 0 5px;
            color: #666;
            pointer-events: none;
        }
        
        .category-wrapper {
            perspective: 1000px;
            margin-bottom: 60px;
        }
        
        .categories {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }
        
        .category-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            height: 220px;
            cursor: pointer;
            overflow: hidden;
            position: relative;
            transition: transform 0.6s cubic-bezier(0.33, 1, 0.68, 1), box-shadow 0.6s ease;
            transform-style: preserve-3d;
        }
        
        .category-card:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.3);
        }
        
        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, transparent 0%, rgba(255, 255, 255, 0.1) 100%);
            z-index: 1;
        }
        
        .category-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -70%);
            font-size: 60px;
            color: rgba(255, 255, 255, 0.4);
            transition: all 0.3s ease;
        }
        
        .category-card:hover .category-icon {
            transform: translate(-50%, -80%) scale(1.1);
            color: rgba(255, 255, 255, 0.6);
        }
        
        .category-name {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 25px 20px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: 500;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
            transition: all 0.3s ease;
        }
        
        .category-card:hover .category-name {
            padding-bottom: 30px;
        }
        
        .category-card::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff6b6b, #a36aff);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .category-card:hover::after {
            width: 80%;
        }
        
        .media-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.6s forwards;
        }
        
        @keyframes fadeUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .media-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            transform: translateY(0);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            height: 280px;
        }
        
        .media-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        
        .media-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 60%, rgba(0, 0, 0, 0.8));
            z-index: 1;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .media-item:hover::before {
            opacity: 0.9;
        }
        
        .media-item img, .media-item video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .media-item:hover img, .media-item:hover video {
            transform: scale(1.05);
        }
        
        .media-info {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            z-index: 2;
            transform: translateY(10px);
            opacity: 0.8;
            transition: all 0.3s ease;
        }
        
        .media-item:hover .media-info {
            transform: translateY(0);
            opacity: 1;
        }
        
        .media-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: #fff;
        }
        
        .media-desc {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .media-item:hover .media-desc {
            max-height: 60px;
        }
        
        .media-type-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 2;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.6);
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(10px);
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .modal.active {
            opacity: 1;
        }
        
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }
        
        .modal.active .modal-content {
            transform: scale(1);
        }
        
        .modal-content img {
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
        }
        
        .modal-content video {
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.5);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #fff;
            font-size: 30px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }
        
        .media-caption {
            position: absolute;
            bottom: -40px;
            left: 0;
            width: 100%;
            text-align: center;
            color: #fff;
            font-size: 1rem;
            opacity: 0.8;
        }
        
        @media (max-width: 768px) {
            .categories {
                grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
                gap: 20px;
            }
            
            .media-gallery {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .category-card {
                height: 180px;
            }
            
            .media-item {
                height: 220px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
        
        /* Custom category themes */
        .category-images {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
        }
        
        .category-video {
            background: linear-gradient(135deg, #834d9b 0%, #d04ed6 100%);
        }
        
        .category-design {
            background: linear-gradient(135deg, #2b5876 0%, #4e4376 100%);
        }
        
        /* Animation for category icons */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .category-card:hover .category-icon {
            animation: float 2s ease-in-out infinite;
        }

        /* Add these styles at the end of your existing CSS */
.prev-button, .next-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    color: #fff;
    font-size: 2rem;
    cursor: pointer;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 50%;
    transition: all 0.3s ease;
    z-index: 10;
}

.prev-button {
    left: 20px;
}

.next-button {
    right: 20px;
}

.prev-button:hover, .next-button:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: translateY(-50%) scale(1.1);
}

/* For mobile devices */
@media (max-width: 768px) {
    .prev-button, .next-button {
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
    }
    
    .prev-button {
        left: 10px;
    }
    
    .next-button {
        right: 10px;
    }
    
    /* Make buttons semi-transparent on mobile to not obstruct content */
    .prev-button, .next-button {
        opacity: 0.7;
    }
}

/* Add an indicator for which item is being viewed */
.modal-pagination {
    position: absolute;
    bottom: -60px;
    left: 0;
    width: 100%;
    text-align: center;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.9rem;
}

    </style>
    <!---the html-->
    <div class="gallery-container">
        <header>
            <h1>Explore</h1>
        </header>
        
        <div class="breadcrumb" id="breadcrumb">
            <!-- Breadcrumb navigation will be inserted here -->
        </div>
        
        <div id="content">
            <!-- Content will be inserted here -->
        </div>
    </div>
    
    <div class="modal" id="mediaModal">
        <div class="close-modal" id="closeModal">√ó</div>
        <div class="prev-button" id="prevButton">‚ùÆ</div>
        <div class="next-button" id="nextButton">‚ùØ</div>
        <div class="modal-content" id="modalContent"></div>
    </div>

    <!--the script-->
    <script>
        // Sample data structure for media categories
        const mediaLibrary = {
            root: {
                type: 'folder',
                items: [
                    {
                        name: 'Images',
                        type: 'folder',
                        theme: 'category-images',
                        icon: 'üì∏',
                        items: [
                       
                        {
                            name: 'Image 1',
                            type: 'image',
                            source: './images/pic1.jpeg',
                            description: 'img1'
                        },
                        
                        {
                            name: 'Image 2',
                            type: 'image',
                            source: './images/pic2.jpeg',
                            description: 'img2'
                              
                        },
                        {
                            name: 'Image 3',
                            type: 'image',
                            source: './images/pic3.jpg',
                            description: 'img3'
                              
                        },
                        {
                            name: 'Image 4',
                            type: 'image',
                            source: './images/pic4.jpg',
                            description: 'img4'
                              
                        },
                        {
                            name: 'Image 5',
                            type: 'image',
                            source: './images/pic5.jpg',
                            description: 'img5'
                              
                        },
                        {
                            name: 'Image 6',
                            type: 'image',
                            source: './images/pic6.jpg',
                            description: 'img6'
                              
                        },
                        {
                            name: 'Image 7',
                            type: 'image',
                            source: './images/pic7.jpg',
                            description: 'img7'
                              
                        },
                        {
                            name: 'Image 8',
                            type: 'image',
                            source: './images/pic8.jpg',
                            description: 'img8'
                              
                        },
                        {
                            name: 'Image 9',
                            type: 'image',
                            source: './images/pic9.jpeg',
                            description: 'img9'
                              
                        },
                        {
                            name: 'Image 10',
                            type: 'image',
                            source: './images/pic10.jpg',
                            description: 'img10'
                              
                        },
                        {
                            name: 'Image 11',
                            type: 'image',
                            source: './images/pic11.jpg',
                            description: 'img11'
                              
                        },
                        {
                            name: 'Image 12',
                            type: 'image',
                            source: './images/pic12.jpg',
                            description: 'img12'
                              
                        },
                        {
                            name: 'Image 13',
                            type: 'image',
                            source: './images/pic13.jpg',
                            description: 'img13'
                              
                        },             
                    ]
                    },
                    {
                        name: 'Videos',
                        type: 'folder',
                        theme: 'category-video',
                        icon: 'üé¨',
                        items: [
                    
                        {
                            name: 'Video 1',
                            type: 'video',
                            source: './videos/vid1.mp4',
                            description: 'vid1'
                        },
                        {
                            name: 'Video 2',
                            type: 'video',
                            source: './videos/vid2.mp4',
                            description: 'vid2'
                        },
                        {
                            name: 'Video 3',
                            type: 'video',
                            source: './videos/vid3.mp4',
                            description: 'vid3'
                        },
                        {
                            name: 'Video 4',
                            type: 'video',
                            source: './videos/vid4.mp4',
                            description: 'vid4'
                        },
                        {
                            name: 'Video 5',
                            type: 'video',
                            source: './videos/vid5.mp4',
                            description: 'vid5'
                        },
                        {
                            name: 'Video 6',
                            type: 'video',
                            source: './videos/vid6.mp4',
                            description: 'vid6'
                        },
                        {
                            name: 'Video 7',
                            type: 'video',
                            source: './videos/vid7.mp4',
                            description: 'vid7'
                        },
                        {
                            name: 'Video 8',
                            type: 'video',
                            source: './videos/vid8.mp4',
                            description: 'vid8'
                        },
                        {
                            name: 'Video 9',
                            type: 'video',
                            source: './videos/vid9.mp4',
                            description: 'vid9'
                        },
                        {
                            name: 'Video 10',
                            type: 'video',
                            source: './videos/vid10.mp4',
                            description: 'vid10'
                        },
                        {
                            name: 'Video 11',
                            type: 'video',
                            source: './videos/vid11.mp4',
                            description: 'vid11'
                        },
                                ]
                    },
                ]
            }
        };

        // Track current path
        let currentPath = ['root'];
        
        let currentMediaItems = [];
        let currentMediaIndex = 0;

        // Function to render current view
        function renderView() {
            const contentDiv = document.getElementById('content');
            contentDiv.innerHTML = '';
            
            // Find current directory based on path
            let currentDir = mediaLibrary;
            for (const segment of currentPath) {
                currentDir = currentDir[segment];
            }
            
            // Check if we're in a folder
            if (currentDir.type === 'folder') {
                // Create categories container if there are folders
                const folderItems = currentDir.items.filter(item => item.type === 'folder');
                if (folderItems.length > 0) {
                    const categoryWrapper = document.createElement('div');
                    categoryWrapper.className = 'category-wrapper';
                    
                    const categoriesContainer = document.createElement('div');
                    categoriesContainer.className = 'categories';
                    
                    folderItems.forEach(folder => {
                        const categoryCard = document.createElement('div');
                        categoryCard.className = `category-card ${folder.theme || ''}`;
                        categoryCard.innerHTML = `
                            <div class="category-icon">${folder.icon || 'üìÅ'}</div>
                            <div class="category-name">${folder.name}</div>
                        `;
                        categoryCard.addEventListener('click', () => {
                            currentPath.push('items');
                            const index = currentDir.items.indexOf(folder);
                            currentPath.push(index);
                            updateBreadcrumb();
                            renderView();
                            
                            // Scroll to top smoothly
                            window.scrollTo({
                                top: 0,
                                behavior: 'smooth'
                            });
                        });
                        
                        categoriesContainer.appendChild(categoryCard);
                    });
                    
                    categoryWrapper.appendChild(categoriesContainer);
                    contentDiv.appendChild(categoryWrapper);
                }
                
                // Create media grid if there are media items
                const mediaItems = currentDir.items.filter(item => item.type === 'image' || item.type === 'video');
                if (mediaItems.length > 0) {
                    const mediaGallery = document.createElement('div');
                    mediaGallery.className = 'media-gallery';
                    
                    mediaItems.forEach(media => {
                        const mediaElement = document.createElement('div');
                        mediaElement.className = 'media-item';
                        
                        const typeBadge = media.type === 'image' ? 'Photo' : 'Video';
                        
                        if (media.type === 'image') {
                            mediaElement.innerHTML = `
                                <div class="media-type-badge">${typeBadge}</div>
                                <img src="${media.source}" alt="${media.name}">
                                <div class="media-info">
                                    <div class="media-title">${media.name}</div>
                                    <div class="media-desc">${media.description}</div>
                                </div>
                            `;
                        } else if (media.type === 'video') {
                            mediaElement.innerHTML = `
                                <div class="media-type-badge">${typeBadge}</div>
                                <video src="${media.source}" muted loop></video>
                                <div class="media-info">
                                    <div class="media-title">${media.name}</div>
                                    <div class="media-desc">${media.description}</div>
                                </div>
                            `;
                            
                            // Auto play video on hover
                            mediaElement.addEventListener('mouseenter', () => {
                                const video = mediaElement.querySelector('video');
                                video.play();
                            });
                            
                            mediaElement.addEventListener('mouseleave', () => {
                                const video = mediaElement.querySelector('video');
                                video.pause();
                            });
                        }
                        
                        mediaElement.addEventListener('click', () => {
                            openModal(media);
                        });
                        
                        mediaGallery.appendChild(mediaElement);
                    });
                    
                    contentDiv.appendChild(mediaGallery);
                }
                
                // If folder is empty
                if (currentDir.items.length === 0) {
                    const emptyState = document.createElement('div');
                    emptyState.className = 'empty-state';
                    emptyState.innerHTML = `
                        <div>No content found in this category</div>
                        <p>This section is currently empty</p>
                    `;
                    contentDiv.appendChild(emptyState);
                }
            }
        }
        
        // Update breadcrumb based on current path
        function updateBreadcrumb() {
            const breadcrumb = document.getElementById('breadcrumb');
            breadcrumb.innerHTML = '';
            
            let pathSoFar = [];
            let displayPath = [];
            
            // Add Home
            const homeSpan = document.createElement('span');
            homeSpan.textContent = 'Home';
            homeSpan.dataset.path = 'root';
            homeSpan.addEventListener('click', () => {
                currentPath = ['root'];
                updateBreadcrumb();
                renderView();
            });
            breadcrumb.appendChild(homeSpan);
            pathSoFar.push('root');
            
            // Get folder names for breadcrumb
            for (let i = 1; i < currentPath.length; i += 2) {
                if (i + 1 < currentPath.length) {
                    let folderIndex = currentPath[i + 1];
                    pathSoFar.push('items');
                    pathSoFar.push(folderIndex);
                    
                    let tempDir = mediaLibrary;
                    for (const segment of pathSoFar) {
                        tempDir = tempDir[segment];
                    }
                    
                    displayPath.push(tempDir.name);
                    
                    // Add separator
                    const separator = document.createElement('span');
                    separator.textContent = '‚Ä∫';
                    separator.className = 'separator';
                    breadcrumb.appendChild(separator);
                    
                    // Add folder name
                    const folderSpan = document.createElement('span');
                    folderSpan.textContent = tempDir.name;
                    
                    // Create a copy of the current path up to this folder
                    const targetPath = [...pathSoFar];
                    
                    folderSpan.addEventListener('click', () => {
                        currentPath = [...targetPath];
                        updateBreadcrumb();
                        renderView();
                    });
                    breadcrumb.appendChild(folderSpan);
                }
            }
        }
        
        // Modal functionality
        // Replace your existing openModal function with this one
function openModal(media) {
    const modal = document.getElementById('mediaModal');
    
    // Get all current media items and find the index of the clicked one
    let currentDir = mediaLibrary;
    for (const segment of currentPath) {
        currentDir = currentDir[segment];
    }
    
    currentMediaItems = currentDir.items.filter(item => item.type === 'image' || item.type === 'video');
    currentMediaIndex = currentMediaItems.findIndex(item => item.source === media.source);
    
    updateModalContent();
    
    modal.style.display = 'flex';
    
    // Add small delay before adding active class for animation
    setTimeout(() => {
        modal.classList.add('active');
    }, 10);
}
        
        // Close modal
        // Add this new function after openModal
function updateModalContent() {
    const modalContent = document.getElementById('modalContent');
    const media = currentMediaItems[currentMediaIndex];
    
    modalContent.innerHTML = '';
    
    if (media.type === 'image') {
        modalContent.innerHTML = `
            <img src="${media.source}" alt="${media.name}">
            <div class="media-caption">${media.name}</div>
            <div class="modal-pagination">${currentMediaIndex + 1} / ${currentMediaItems.length}</div>
        `;
    } else if (media.type === 'video') {
        modalContent.innerHTML = `
            <video src="${media.source}" controls autoplay></video>
            <div class="media-caption">${media.name}</div>
            <div class="modal-pagination">${currentMediaIndex + 1} / ${currentMediaItems.length}</div>
        `;
    }
    
    // Hide navigation buttons if there's only one item
    const prevButton = document.getElementById('prevButton');
    const nextButton = document.getElementById('nextButton');
    
    if (currentMediaItems.length <= 1) {
        prevButton.style.display = 'none';
        nextButton.style.display = 'none';
    } else {
        prevButton.style.display = 'flex';
        nextButton.style.display = 'flex';
    }
}

// Function to navigate to previous item
function prevItem() {
    if (currentMediaItems.length <= 1) return;
    
    // Stop video if playing
    const video = document.querySelector('#modalContent video');
    if (video) {
        video.pause();
    }
    
    currentMediaIndex--;
    if (currentMediaIndex < 0) {
        currentMediaIndex = currentMediaItems.length - 1;
    }
    
    updateModalContent();
}

// Function to navigate to next item
function nextItem() {
    if (currentMediaItems.length <= 1) return;
    
    // Stop video if playing
    const video = document.querySelector('#modalContent video');
    if (video) {
        video.pause();
    }
    
    currentMediaIndex++;
    if (currentMediaIndex >= currentMediaItems.length) {
        currentMediaIndex = 0;
    }
    
    updateModalContent();
}


        document.getElementById('closeModal').addEventListener('click', () => {
            const modal = document.getElementById('mediaModal');
            modal.classList.remove('active');
            
            // Add small delay before hiding modal
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        });
        
        // Close modal when clicking outside content
        document.getElementById('mediaModal').addEventListener('click', (e) => {
            if (e.target === document.getElementById('mediaModal')) {
                const modal = document.getElementById('mediaModal');
                modal.classList.remove('active');
                
                // Add small delay before hiding modal
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 300);
            }
        });
        
        // Stop video playback when modal is closed
        document.getElementById('closeModal').addEventListener('click', () => {
            const video = document.querySelector('#modalContent video');
            if (video) {
                video.pause();
            }
        });
        
        // Escape key to close modal
       
        
        // Initial render
        updateBreadcrumb();
        renderView();// Replace your existing keydown event listener with this one
        document.addEventListener('keydown', (e) => {
            const modal = document.getElementById('mediaModal');
            if (modal.style.display === 'flex') {
                if (e.key === 'Escape') {
                    modal.classList.remove('active');
                    
                    // Add small delay before hiding modal
                    setTimeout(() => {
                        modal.style.display = 'none';
                    }, 300);
                    
                    // Stop video if playing
                    const video = document.querySelector('#modalContent video');
                    if (video) {
                        video.pause();
                    }
                } else if (e.key === 'ArrowLeft') {
                    prevItem();
                } else if (e.key === 'ArrowRight') {
                    nextItem();
                }
            }
        });

        // Add this function before updateBreadcrumb() and renderView() at the end of your script
function initTouchGestures() {
    const modal = document.getElementById('mediaModal');
    let touchStartX = 0;
    let touchEndX = 0;
    
    modal.addEventListener('touchstart', (e) => {
        touchStartX = e.changedTouches[0].screenX;
    }, false);
    
    modal.addEventListener('touchend', (e) => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    }, false);
    
    function handleSwipe() {
        // Minimum distance required for swipe (in pixels)
        const minSwipeDistance = 50;
        const swipeDistance = touchEndX - touchStartX;
        
        if (Math.abs(swipeDistance) >= minSwipeDistance) {
            if (swipeDistance > 0) {
                // Swipe right - show previous item
                prevItem();
            } else {
                // Swipe left - show next item
                nextItem();
            }
        }
    }
}

// Add button event listeners
document.addEventListener('DOMContentLoaded', function() {
    initTouchGestures();
    
    // Add click handlers for navigation buttons
    document.getElementById('prevButton').addEventListener('click', prevItem);
    document.getElementById('nextButton').addEventListener('click', nextItem);
});

// Then your existing initial render calls
updateBreadcrumb();
renderView();
    </script>
              </div>
            </div>
    </section>
    </main>
    
    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="social-links">
                <div class="socials">
                    <h4>Indinzi</h4>
                    <div class="social-icons">
                        <a href="https://wa.me/250785038287" class="social-icon whatsapp">
                            <span class="icon-text"><i class="fa-brands fa-whatsapp"></i></span>
                        </a>
                        <a href="https://instagram.com/___indinziculturaltroupe___" class="social-icon instagram">
                            <span class="icon-text"><i class="fa-brands fa-instagram"></i></span>
                        </a>
                        <a href="https://www.tiktok.com/@indinzi_cultural_troupe" class="social-icon tiktok">
                            <span class="icon-text"><i class="fa-brands fa-tiktok"></i></span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <div class="container">
                    <p>&copy; Indinzi Cultural Troupe. All rights reserved.</p>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>